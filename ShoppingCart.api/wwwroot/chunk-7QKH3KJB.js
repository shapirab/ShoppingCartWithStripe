import{a as d,b as l,qa as m}from"./chunk-V5SENJY6.js";import{ca as s,ha as p,m as o,w as n}from"./chunk-RYDPFYJP.js";var u=class t{constructor(e){this.http=e}baseUrl=m.apiUrl;orderComplete=!1;paginationMetadataSubject=new o({TotalItemCount:0,pageSize:0,pageNumber:0});paginationMetadata$=this.paginationMetadataSubject.asObservable();createOrder(e){return console.log("orderService::createOrder()"),this.http.post(`${this.baseUrl}/orders`,e)}getOrdersForUser(){return this.http.get(`${this.baseUrl}/orders/user`)}getOrderDetails(e){return this.http.get(`${this.baseUrl}/orders/${e}`)}getOrders(e){let r=new d;return e.orderStatus&&e.orderStatus!="All"&&(r=r.append("orderStatus",e.orderStatus)),r=r.append("pageNumber",e.pageNumber),r=r.append("pageSize",e.pageSize),this.http.get(`${this.baseUrl}/orders`,{params:r,observe:"response"}).pipe(n(a=>{let i=a.headers.get("X-Pagination");return this.paginationMetadataSubject.next(JSON.parse(i)),{orders:a.body||[],paginationMetadata:JSON.parse(i)}}))}getOrder(e){return this.http.get(`${this.baseUrl}/orders/${e}`)}refundOrder(e){return console.log("orderService::refundOrder(). Calling: "),console.log(`${this.baseUrl}/payments/refund/${e}`),this.http.post(`${this.baseUrl}/payments/refund/${e}`,{})}static \u0275fac=function(r){return new(r||t)(p(l))};static \u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})};export{u as a};
